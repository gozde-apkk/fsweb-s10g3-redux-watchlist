{"ast":null,"code":"import { ADD_MOVIE, BACK_TO_FIRST, NEXT_MOVIE, PREVIOUS_MOVIE, DELETE_MOVIE } from \"../actions/movieActions\";\nimport { movies, siraNo } from \"../../movies\";\nconst initialState = {\n  movies: movies.slice(0, 5),\n  place: 0\n};\nfunction writeToLocalStorage(data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\nfunction readFromLocalStorage() {\n  return JSON.parse(localStorage.getItem(key));\n}\nfunction getInitialMovies(key) {\n  const savedMovies = localStorage.getItem(key);\n  if (savedMovies) {\n    return readFromLocalStorage(key);\n  } else {\n    return initialState.movies;\n  }\n}\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case INITIAL_MOVIES:\n      return {\n        ...state,\n        movies: getInitialMovies(key)\n      };\n    case NEXT_PLACE:\n      let copyPlace = state.place;\n      copyPlace = copyPlace + 1;\n      return {\n        ...state,\n        place: copyPlace\n      };\n    case PREV_PLACE:\n      let copyPlace2 = state.place;\n      copyPlace2 = copyPlace2 - 1;\n      return {\n        ...state,\n        place: copyPlace2\n      };\n    case FIRST_PLACE:\n      let copyPlace3 = state.place;\n      copyPlace3 = 0;\n      return {\n        ...state,\n        place: copyPlace3\n      };\n    case REMOVE_MOVIE:\n      const copyMovies = [...state.movies];\n      let resultArray = copyMovies.filter(movie => movie.id !== action.payload);\n      writeToLocalStorage([...resultArray]);\n      return {\n        ...state,\n        movies: [...resultArray]\n      };\n    case ADD_MOVIE:\n      writeToLocalStorage([...state.movies, action.payload]);\n      const copyMovies2 = [...state.movies];\n      const newMovie = action.payload;\n      const resultArray2 = [...copyMovies2, newMovie];\n      return {\n        ...state,\n        movies: [...resultArray2]\n      };\n    case ADD_ALL_MOVIES:\n      writeToLocalStorage([...initialState.movies]);\n      return {\n        ...state,\n        movies: initialState.movies\n      };\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"names":["ADD_MOVIE","BACK_TO_FIRST","NEXT_MOVIE","PREVIOUS_MOVIE","DELETE_MOVIE","movies","siraNo","initialState","slice","place","writeToLocalStorage","data","localStorage","setItem","key","JSON","stringify","readFromLocalStorage","parse","getItem","getInitialMovies","savedMovies","reducer","state","arguments","length","undefined","action","type","INITIAL_MOVIES","NEXT_PLACE","copyPlace","PREV_PLACE","copyPlace2","FIRST_PLACE","copyPlace3","REMOVE_MOVIE","copyMovies","resultArray","filter","movie","id","payload","copyMovies2","newMovie","resultArray2","ADD_ALL_MOVIES"],"sources":["C:/Users/gozde/OneDrive/Belgeler/GitHub/fsweb-s10g3-redux-watchlist/src/store/reducers/movieReducers.js"],"sourcesContent":["import { ADD_MOVIE, BACK_TO_FIRST, NEXT_MOVIE, PREVIOUS_MOVIE, DELETE_MOVIE } from \"../actions/movieActions\"\r\nimport { movies, siraNo } from \"../../movies\"\r\n\r\n\r\nconst initialState = {\r\n    movies: movies.slice(0,5),\r\n    place: 0,\r\n}\r\n\r\nfunction writeToLocalStorage(data) {\r\n    localStorage.setItem(key, JSON.stringify(data));\r\n  }\r\n  \r\n  function readFromLocalStorage() {\r\n    return JSON.parse(localStorage.getItem(key));\r\n  }\r\n  \r\n  function getInitialMovies(key) {\r\n    const savedMovies = localStorage.getItem(key);\r\n    if (savedMovies) {\r\n      return readFromLocalStorage(key);\r\n    } else {\r\n      return initialState.movies;\r\n    }\r\n  }\r\n\r\n  const reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case INITIAL_MOVIES:\r\n        return {\r\n          ...state,\r\n          movies: getInitialMovies(key),\r\n        };\r\n      case NEXT_PLACE:\r\n        let copyPlace = state.place;\r\n        copyPlace = copyPlace + 1;\r\n  \r\n        return {\r\n          ...state,\r\n          place: copyPlace,\r\n        };\r\n      case PREV_PLACE:\r\n        let copyPlace2 = state.place;\r\n        copyPlace2 = copyPlace2 - 1;\r\n        return {\r\n          ...state,\r\n          place: copyPlace2,\r\n        };\r\n  \r\n      case FIRST_PLACE:\r\n        let copyPlace3 = state.place;\r\n        copyPlace3 = 0;\r\n        return {\r\n          ...state,\r\n          place: copyPlace3,\r\n        };\r\n  \r\n      case REMOVE_MOVIE:\r\n        const copyMovies = [...state.movies];\r\n        let resultArray = copyMovies.filter(\r\n          (movie) => movie.id !== action.payload\r\n        );\r\n        writeToLocalStorage([...resultArray]);\r\n        return {\r\n          ...state,\r\n          movies: [...resultArray],\r\n        };\r\n  \r\n      case ADD_MOVIE:\r\n        writeToLocalStorage([...state.movies, action.payload]);\r\n        const copyMovies2 = [...state.movies];\r\n        const newMovie = action.payload;\r\n        const resultArray2 = [...copyMovies2, newMovie];\r\n        return {\r\n          ...state,\r\n          movies: [...resultArray2],\r\n        };\r\n  \r\n      case ADD_ALL_MOVIES:\r\n        writeToLocalStorage([...initialState.movies]);\r\n        return {\r\n          ...state,\r\n          movies: initialState.movies,\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n  export default reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}