{"ast":null,"code":"import { movies } from \"../movies\";\nimport { NEXT_PLACE, PREV_PLACE, FIRST_PLACE, REMOVE_MOVIE, ADD_MOVIE, INITIAL_MOVIES, ADD_ALL_MOVIES } from \"../actions/movieActions\";\nconst initialState = {\n  movies: movies,\n  place: 0\n};\nconst key = \"movies\";\nfunction writeToLocalStorage(data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\nfunction readFromLocalStorage() {\n  return JSON.parse(localStorage.getItem(key));\n}\nfunction getInitialMovies(key) {\n  const savedMovies = localStorage.getItem(key);\n  if (savedMovies) {\n    return readFromLocalStorage(key);\n  } else {\n    return initialState.movies;\n  }\n}\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case INITIAL_MOVIES:\n      return {\n        ...state,\n        movies: getInitialMovies(key)\n      };\n    case NEXT_PLACE:\n      let copyPlace = state.place;\n      copyPlace = copyPlace + 1;\n      return {\n        ...state,\n        place: copyPlace\n      };\n    case PREV_PLACE:\n      let copyPlace2 = state.place;\n      copyPlace2 = copyPlace2 - 1;\n      return {\n        ...state,\n        place: copyPlace2\n      };\n    case FIRST_PLACE:\n      let copyPlace3 = state.place;\n      copyPlace3 = 0;\n      return {\n        ...state,\n        place: copyPlace3\n      };\n    case REMOVE_MOVIE:\n      const copyMovies = [...state.movies];\n      let resultArray = copyMovies.filter(movie => movie.id !== action.payload);\n      writeToLocalStorage([...resultArray]);\n      return {\n        ...state,\n        movies: [...resultArray]\n      };\n    case ADD_MOVIE:\n      writeToLocalStorage([...state.movies, action.payload]);\n      const copyMovies2 = [...state.movies];\n      const newMovie = action.payload;\n      const resultArray2 = [...copyMovies2, newMovie];\n      return {\n        ...state,\n        movies: [...resultArray2]\n      };\n    case ADD_ALL_MOVIES:\n      writeToLocalStorage([...initialState.movies]);\n      return {\n        ...state,\n        movies: initialState.movies\n      };\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"names":["movies","NEXT_PLACE","PREV_PLACE","FIRST_PLACE","REMOVE_MOVIE","ADD_MOVIE","INITIAL_MOVIES","ADD_ALL_MOVIES","initialState","place","key","writeToLocalStorage","data","localStorage","setItem","JSON","stringify","readFromLocalStorage","parse","getItem","getInitialMovies","savedMovies","reducer","state","arguments","length","undefined","action","type","copyPlace","copyPlace2","copyPlace3","copyMovies","resultArray","filter","movie","id","payload","copyMovies2","newMovie","resultArray2"],"sources":["C:/Users/gozde/OneDrive/Belgeler/GitHub/fsweb-s10g3-redux-watchlist/src/reducers/moviesReducer.js"],"sourcesContent":["import { movies } from \"../movies\";\r\nimport {\r\n  NEXT_PLACE,\r\n  PREV_PLACE,\r\n  FIRST_PLACE,\r\n  REMOVE_MOVIE,\r\n  ADD_MOVIE,\r\n  INITIAL_MOVIES,\r\n  ADD_ALL_MOVIES,\r\n} from \"../actions/movieActions\";\r\n\r\nconst initialState = {\r\n  movies: movies,\r\n  place: 0,\r\n};\r\n\r\nconst key = \"movies\";\r\n\r\nfunction writeToLocalStorage(data) {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n}\r\n\r\nfunction readFromLocalStorage() {\r\n  return JSON.parse(localStorage.getItem(key));\r\n}\r\n\r\nfunction getInitialMovies(key) {\r\n  const savedMovies = localStorage.getItem(key);\r\n  if (savedMovies) {\r\n    return readFromLocalStorage(key);\r\n  } else {\r\n    return initialState.movies;\r\n  }\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIAL_MOVIES:\r\n      return {\r\n        ...state,\r\n        movies: getInitialMovies(key),\r\n      };\r\n    case NEXT_PLACE:\r\n      let copyPlace = state.place;\r\n      copyPlace = copyPlace + 1;\r\n\r\n      return {\r\n        ...state,\r\n        place: copyPlace,\r\n      };\r\n    case PREV_PLACE:\r\n      let copyPlace2 = state.place;\r\n      copyPlace2 = copyPlace2 - 1;\r\n      return {\r\n        ...state,\r\n        place: copyPlace2,\r\n      };\r\n\r\n    case FIRST_PLACE:\r\n      let copyPlace3 = state.place;\r\n      copyPlace3 = 0;\r\n      return {\r\n        ...state,\r\n        place: copyPlace3,\r\n      };\r\n\r\n    case REMOVE_MOVIE:\r\n      const copyMovies = [...state.movies];\r\n      let resultArray = copyMovies.filter(\r\n        (movie) => movie.id !== action.payload\r\n      );\r\n      writeToLocalStorage([...resultArray]);\r\n      return {\r\n        ...state,\r\n        movies: [...resultArray],\r\n      };\r\n\r\n    case ADD_MOVIE:\r\n      writeToLocalStorage([...state.movies, action.payload]);\r\n      const copyMovies2 = [...state.movies];\r\n      const newMovie = action.payload;\r\n      const resultArray2 = [...copyMovies2, newMovie];\r\n      return {\r\n        ...state,\r\n        movies: [...resultArray2],\r\n      };\r\n\r\n    case ADD_ALL_MOVIES:\r\n      writeToLocalStorage([...initialState.movies]);\r\n      return {\r\n        ...state,\r\n        movies: initialState.movies,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}